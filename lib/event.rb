require 'pry'
require 'time'
require 'time_difference'           


class Event

    attr_accessor :start_date, :duration, :title, :attendees
    @@attendees = Array.new

#-------------------------------------------------------------------------------------------------------------------------------------#
#---------------------------------------------------------------INIT------------------------------------------------------------------#
    
    def initialize(start_date_register, duration_register, title_register, attendees_register)
        @start_date = Time.parse(start_date_register)
        @duration = duration_register.to_i
        @title = title_register
        @attendees = attendees_register
    end 

#-------------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------PLUS+24-----------------------------------------------------------------#

    def postpone_24h
        @start_date = @start_date + 24*60*60
    end

#-------------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------END_DATE?---------------------------------------------------------------#
    
    def end_date
        return @start_date + @duration * 60
    end

#-------------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------IS_PAST?----------------------------------------------------------------#
    
    def is_past?
        if @start_date < Time.now 
            return true
        elsif @start_date == @start_date + @duration * 60
            return true
        else
            return false
        end
    end

#------------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------IS_FUTURE?-------------------------------------------------------------#
    def is_future?
        if @start_date > Time.now
            return true 
        else
            return false
        end
    end
#------------------------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------IS_SOON?--------------------------------------------------------------#

    def is_soon?
        
        elapsed_min = TimeDifference.between(@start_date, Time.now).in_minutes
        if elapsed_min < 30
            return true
        else
            return false
        end
    end

#------------------------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------TO_STRING-------------------------------------------------------------#

    def my_events
        puts "Start = #{@start_date}"
        puts "Title = #{@title}"
        puts "Duration = #{@duration}"
        puts "Invited = #{@attendees}"
    end
    
end 

binding.pry
#------------------------------------------------------------------------------------------------------------------------------------#
#------------------------------------------------------------------END---------------------------------------------------------------#
